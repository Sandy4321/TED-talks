{% extends "base.html" %}

{% block title %}
Theodore -- Welcome
{% endblock %}

{% block content %}
    <article>
        <header>
            <h1>Welcome</h1>
            <p>Theodore is a TED Talks insights service.</p>
        </header>
        <section>
            <h2>Recently Added</h2>
            {% if new_bookmarks %}
                <ul>
                    {% for bm in new_bookmarks %}
                        <li>{{ bm.user }} added <a href="{{ bm.url }}">{{ bm.url }}</a></li>
                    {% endfor %}
                </ul>
            {% else %}
                No bookmarks yet.
            {% endif %}
        </section>
                <section>
            <h1>{{ title }}</h1>
                <div class="dtable">
                    <div style="display: table-row;">
                        <div class="d_cell">
                            <h2>Learn How to Give More Persuasive Presentations</h2>
                            <p>
                                The purpose of this app is to understand (and emululate) the content and linguistic style of highly persuasive talks.
                            </p>
                        <div class='tableauPlaceholder' id='viz1516146589590' style='position: relative'><noscript><a href='#'><img alt='Persuasive Dashboard ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;TE&#47;TED_2&#47;PersuasiveDashboard&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='TED_2&#47;PersuasiveDashboard' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;TE&#47;TED_2&#47;PersuasiveDashboard&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='filter' value='publish=yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1516146589590');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='1000px';vizElement.style.height='827px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
                        </div>
                    </div>
                </div>
        </section>
        <section>
            <h1>{{ title }}</h1>
                <div class="dtable">
                    <div style="display: table-row;">
                        <div class="d_cell">
                            <h2>Find Similar TED Talk</h2>
                            <p>
                                The purpose of this app is to display a TED Talk that is
                                very similar in linguistic and content features to the Talk you enter.
                                Put a TED Talk speaker's name in the field below, and have it find a similar talk.
                            </p>
                            <form action="{{ url_for('analyze_text') }}" method="post">
                                <textarea name="text1" cols="30" rows="5"></textarea>
                                <input type="submit">
                            </form>
                        </div>

                        <div class="d_cell">
                            <h2>Results</h2>
                            <div id="results">
                                {% if data is not none %}
                                <table>
                                    <tbody>
                                        <thead>
                                            <th>Similar Talk</th>
                                        </thead>
                                        <tr>
                                            <td>{{ speaker_name }}</td>
                                            <td>{{ description }}</td>
                                            <td>{{ url_rx }}</td>
                                        </tr>
                                    </tbody>
                                </table>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
        </section>
        <section>
            <h1>{{ title }}</h1>
                <div class="dtable">
                    <div style="display: table-row;">
                        <div class="d_cell">
                            <h2>Predict Persuasiveness of Text</h2>
                            <p>
                                The purpose of this app is to predict the persuasiveness of a text.
                                Put the text of a speech in the field below, and have it predict whether it is persuasive.
                            </p>
                            <form action="{{ url_for('predict_text') }}" method="post">
                                <textarea name="text2" cols="30" rows="5"></textarea>
                                <input type="submit">
                            </form>
                        </div>

                        <div class="d_cell">
                            <h2>Results</h2>
                            <div id="results">
                                {% if message is not none %}
                                <table>
                                    <tbody>
                                        <thead>
                                            <th>Persuasive Prediction</th>
                                        </thead>
                                        <tr>
                                            <td>{{message}}</td>
                                            <td>{{percentage}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
        </section>
    </article>
{% endblock %}